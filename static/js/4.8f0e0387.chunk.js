(window.webpackJsonplp_create_miniproject=window.webpackJsonplp_create_miniproject||[]).push([[4],{148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);n(77);var a=n(93),i=n(9),o=n(10),s=n(12),r=n(11),l=n(25),d=n(13),c=n(0),h=n.n(c),u=n(22),p=n(27);n(17);function m(e){return Object.prototype.toString.call(e).slice(8,-1)}var f=n(21),E=function(e){var t=function(t){function n(e){var t;return Object(i.a)(this,n),(t=Object(s.a)(this,Object(r.a)(n).call(this,e))).state={showOperat:!1},t}return Object(d.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleMouseOver",value:function(e){this.setState({showOperat:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({showOperat:!1})}},{key:"handleDel",value:function(e){this.props.del(this.props.index)}},{key:"handleEdit",value:function(e){console.log(this),this.props.onSel(this.props.index)}},{key:"render",value:function(){return h.a.createElement("div",{style:{position:"relative"},onMouseOver:this.handleMouseOver.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onClick:this.handleEdit.bind(this)},this.state.showOperat&&h.a.createElement("div",{className:"posa full-box"},h.a.createElement(a.a,{className:"del",type:"close",onClick:this.handleDel.bind(this)})),h.a.createElement(e,Object.assign({ref:"WrappedComponent"},this.props)))}}]),n}(c.Component);return Object(u.b)((function(e){return e}),(function(e){return{del:function(t){return e(Object(f.c)(t))}}}))(t)}(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this);var e=this.props,t=e.text,n=e.bold,a=e.padding,i=e.margin,o=e.fontSize;return h.a.createElement("div",null,h.a.createElement("div",{style:{fontWeight:n&&"bold",padding:"".concat(a[0],"px ").concat(a[1],"px ").concat(a[2],"px ").concat(a[3],"px"),margin:"".concat(i[0],"px ").concat(i[1],"px ").concat(i[2],"px ").concat(i[3],"px"),fontSize:"".concat(o,"px")}},t))}}]),t}(c.Component)),b=n(147),v=n.n(b),g=(n(148),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).elList=[{name:"text",type:"text",attr:{text:"\u8fd9\u662f\u6587\u672c",height:"32",fontSize:"32",padding:[0,0,0,0],margin:[0,0,0,0],bold:!1},selEditEle:function(e){n.setState({selIndex:e,editEle:n.props.phoneEle[e].attr})},render:function(e){return h.a.createElement("div",{key:e,className:"text grab",onMouseDown:n.handleMouseDown.bind(Object(l.a)(n),e)},"123")},renderDom:function(e){return h.a.createElement(E,{key:"".concat(this.name,"-").concat(e),text:this.attr.text,bold:this.attr.bold,padding:this.attr.padding,margin:this.attr.margin,fontSize:this.attr.fontSize,index:e,onSel:this.selEditEle})}}],n.state={startx:0,starty:0,movex:0,movey:0,mousex:0,mousey:0,selIndex:"",editEle:{}},p.a.subscribe((function(){console.log("chenge phoneEle")})),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.phone=v()("#phone"),this.body=v()("body"),this.rl=this.phone.offset().left,this.rt=this.phone.offset().top}},{key:"handleMouseDown",value:function(e,t){var n=this.state,a=n.movex,i=n.movey,o=n.startx,s=n.starty,r=n.mousex,l=n.mousey,d=this;this.elClone=v()(t.currentTarget).clone(),o=v()(t.currentTarget).offset().left,s=v()(t.currentTarget).offset().top,this.elClone.offset({left:o,top:s}),this.elClone.addClass("grabbing"),this.elClone.addClass("posa"),this.elClone.appendTo("body"),r=t.clientX,l=t.clientY,this.body.on("mousemove",(function(e){a=e.clientX-r,i=e.clientY-l;var t=o+a,n=s+i;d.elClone.css({left:"".concat(t,"px"),top:"".concat(n,"px")})})),this.body.on("mouseup",this.handleMouseUp.bind(this,e))}},{key:"handleMouseUp",value:function(e,t){console.log("\u6267\u884c\u4e86\u4e00\u6b21 handleMouseUp");var n=t.clientX,a=t.clientY;if(n<this.rl+this.phone.width()&&n>this.rl&&a<this.rt+this.phone.height()&&a>this.rt){var i=function e(t){var n,a=m(t);if("Object"==a)n={};else{if("Array"!=a)return t;n=[]}for(var i in t){var o=t[i];"Object"==m(o)?n[i]=e(o):"Array"==m(o)?n[i]=e(o):n[i]=o}return n}(this.elList[e]);this.props.add(i)}this.body.off("mousemove"),this.elClone.remove(),this.body.off("mouseup")}},{key:"handleEditText",value:function(e,t){e.text=t.currentTarget.value,this.props.edit(this.state.selIndex,e)}},{key:"handleEditFontSize",value:function(e,t){e.fontSize=t.currentTarget.value,this.props.edit(this.state.selIndex,e)}},{key:"handleEditBold",value:function(e,t){e.bold=!e.bold,this.props.edit(this.state.selIndex,e)}},{key:"handleEditPadding",value:function(e,t){e.padding[t.currentTarget.dataset.index]=t.currentTarget.value,this.props.edit(this.state.selIndex,e)}},{key:"handleEditMargin",value:function(e,t){e.margin[t.currentTarget.dataset.index]=t.currentTarget.value,this.props.edit(this.state.selIndex,e)}},{key:"saveProject",value:function(){console.log("\u751f\u6210\u9879\u76ee\u6587\u4ef6");var e=document.querySelector("#phone");console.log(e)}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"home"},h.a.createElement("header",{className:"header"},h.a.createElement("button",{onClick:this.saveProject.bind(this)},"\u751f\u6210")),h.a.createElement("aside",{className:"aside"},this.elList.map((function(e,t){return e.render(t)}))),h.a.createElement("main",{className:"main"},h.a.createElement("div",{id:"phone",className:"phone"},this.props.phoneEle&&this.props.phoneEle.map((function(e,t){return e.renderDom(t)}))),h.a.createElement("section",{className:"phone"},Object.keys(this.state.editEle?this.state.editEle:[]).map((function(t){switch(t){case"text":return h.a.createElement("div",{key:t},h.a.createElement("span",null,"\u6587\u672c"),h.a.createElement("input",{type:"text",value:e.state.editEle[t],onChange:e.handleEditText.bind(e,e.state.editEle)}));case"fontSize":return h.a.createElement("div",{key:t},h.a.createElement("span",null,"\u5b57\u4f53\u5927\u5c0f"),h.a.createElement("input",{type:"text",value:e.state.editEle[t],onChange:e.handleEditFontSize.bind(e,e.state.editEle)}));case"bold":return h.a.createElement("div",{key:t},h.a.createElement(a.a,{type:"bold",style:{color:e.state.editEle[t]?"red":""},onClick:e.handleEditBold.bind(e,e.state.editEle)}));case"padding":return h.a.createElement("div",{key:t},"\u5185\u8fb9\u8ddd",h.a.createElement("input",{name:"top",type:"text","data-index":"0",onChange:e.handleEditPadding.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"right",type:"text","data-index":"1",onChange:e.handleEditPadding.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"bottom",type:"text","data-index":"2",onChange:e.handleEditPadding.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"left",type:"text","data-index":"3",onChange:e.handleEditPadding.bind(e,e.state.editEle)}));case"margin":return h.a.createElement("div",{key:t},"\u5916\u8fb9\u8ddd",h.a.createElement("input",{name:"top",type:"text","data-index":"0",onChange:e.handleEditMargin.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"right",type:"text","data-index":"1",onChange:e.handleEditMargin.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"bottom",type:"text","data-index":"2",onChange:e.handleEditMargin.bind(e,e.state.editEle)}),h.a.createElement("input",{name:"left",type:"text","data-index":"3",onChange:e.handleEditMargin.bind(e,e.state.editEle)}))}})))))}}]),t}(c.Component));t.default=Object(u.b)((function(e){return e}),(function(e){return{add:function(t){return e(Object(f.a)(t))},edit:function(t,n,a){return e(Object(f.d)(t,n,a))}}}))(g)}}]);
//# sourceMappingURL=4.8f0e0387.chunk.js.map