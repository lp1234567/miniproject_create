{"version":3,"sources":["utils/util.js","components/text/Text.jsx","components/index.jsx","pages/home/Home.jsx"],"names":["getClass","o","Object","prototype","toString","call","slice","middleware","WrappedComponent","HOC","props","state","showOperat","e","this","setState","del","index","console","log","onSel","style","position","onMouseOver","handleMouseOver","bind","onMouseLeave","handleMouseLeave","onClick","handleEdit","className","type","handleDel","ref","Component","connect","dispatch","text","bold","padding","margin","fontSize","fontWeight","Home","elList","name","attr","height","selEditEle","selIndex","editEle","phoneEle","render","key","onMouseDown","handleMouseDown","renderDom","startx","starty","movex","movey","mousex","mousey","store","subscribe","phone","$","body","rl","offset","left","rt","top","that","elClone","currentTarget","clone","addClass","appendTo","clientX","clientY","on","cl","ct","css","handleMouseUp","el","et","width","obj","result","oClass","i","copy","add","off","remove","value","edit","dataset","box","document","querySelector","saveProject","map","item","id","keys","onChange","handleEditText","handleEditFontSize","color","handleEditBold","data-index","handleEditPadding","handleEditMargin","dom"],"mappings":"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","file":"static/js/4.8f0e0387.chunk.js","sourcesContent":["import myEE from './eventEmitter';\r\nimport { message } from 'antd';\r\nimport constant from './Constant';\r\n\r\nexport let FunctionRole = {\r\n    functionRoles: [],\r\n    menuRoles: [],\r\n    check: (url) => {\r\n        let isShow = false;\r\n        FunctionRole.functionRoles.authAppVoList.map(item => {\r\n            if (item.url == url) {\r\n                isShow = true;\r\n            }\r\n        })\r\n        return isShow;\r\n    }\r\n}\r\n/*\r\n* array 操作的数组\r\n* fromIndex 被操作item的索引\r\n* move 1上移 -1下移 0置顶\r\n* */\r\nexport const arrayMove = (array, fromIndex, move) => {\r\n    //不在数组长度范围内移动则返回原数组\r\n    if (fromIndex + move < 0 || fromIndex + move >= array.length || (fromIndex == 0 && move == 0)) {\r\n        return array;\r\n    }\r\n    if (move == 0) {\r\n        //置顶\r\n        array.unshift(array.splice(fromIndex, 1)[0]);\r\n    } else {\r\n        //上下移动\r\n        array[fromIndex + move] = array.splice(fromIndex, 1, array[fromIndex + move])[0];\r\n    }\r\n    return array;\r\n}\r\n\r\nfunction getClass(o) { //判断数据类型\r\n    return Object.prototype.toString.call(o).slice(8, -1);\r\n}\r\n\r\nexport const clone = function (obj) {\r\n    var result, oClass = getClass(obj);\r\n\r\n    if (oClass == \"Object\") result = {}; //判断传入的如果是对象，继续遍历\r\n    else if (oClass == \"Array\") result = []; //判断传入的如果是数组，继续遍历\r\n    else return obj; //如果是基本数据类型就直接返回\r\n\r\n    for (var i in obj) {\r\n        var copy = obj[i];\r\n\r\n        if (getClass(copy) == \"Object\") result[i] = clone(copy); //递归方法 ，如果对象继续变量obj[i],下一级还是对象，就obj[i][i]\r\n        else if (getClass(copy) == \"Array\") result[i] = clone(copy); //递归方法 ，如果对象继续数组obj[i],下一级还是数组，就obj[i][i]\r\n        else result[i] = copy; //基本数据类型则赋值给属性\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport const getQueryString = (name) => {\r\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return decodeURI(r[2]);\r\n    return null;\r\n}\r\n\r\nexport const getDate = (day) => {\r\n    let today = new Date();\r\n\r\n    let timeStamp = today.getTime() + 1000 * 60 * 60 * 24 * day;\r\n\r\n    today.setTime(timeStamp);\r\n\r\n    let tYear = today.getFullYear();\r\n    let tMonth = today.getMonth() >= 9 ? today.getMonth() + 1 : \"0\" + (today.getMonth() + 1);\r\n    let tDate = today.getDate() >= 10 ? today.getDate() : \"0\" + (today.getDate() + 1);\r\n    return tYear + \"-\" + tMonth + \"-\" + tDate;\r\n}\r\n\r\nexport const goPage = (target, url) => {\r\n    myEE.emit('push', target, url)\r\n}\r\n\r\n\r\nexport default goPage\r\n\r\n","import React, { Component } from 'react'\r\nimport middleware from '@/components/index'\r\n\r\nclass Text extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    console.log(this)\r\n    let { text, bold, padding, margin, fontSize } = this.props\r\n    return (\r\n      <div>\r\n        <div style={{fontWeight: bold&&'bold',padding: `${padding[0]}px ${padding[1]}px ${padding[2]}px ${padding[3]}px`,margin: `${margin[0]}px ${margin[1]}px ${margin[2]}px ${margin[3]}px`,fontSize: `${fontSize}px`}}>{text}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default middleware(Text)\r\n","import React, { Component } from 'react'\r\nimport { Icon } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { del } from '@/reducers/phoneEle.js'\r\nconst componentWrapper = WrappedComponent => {\r\n  class HOC extends Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        showOperat: false\r\n      }\r\n    }\r\n\r\n    componentDidMount() {}\r\n\r\n    handleMouseOver(e) {\r\n      this.setState({\r\n        showOperat: true\r\n      })\r\n    }\r\n\r\n    handleMouseLeave(e) {\r\n      this.setState({\r\n        showOperat: false\r\n      })\r\n    }\r\n\r\n    handleDel(e) {\r\n      this.props.del(this.props.index)\r\n    }\r\n    handleEdit(e) {\r\n      console.log(this)\r\n      this.props.onSel(this.props.index)\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div\r\n          style={{ position: 'relative' }}\r\n          onMouseOver={this.handleMouseOver.bind(this)}\r\n          onMouseLeave={this.handleMouseLeave.bind(this)}\r\n          onClick={this.handleEdit.bind(this)}\r\n\r\n        >\r\n          {this.state.showOperat && (\r\n            <div className=\"posa full-box\">\r\n              <Icon\r\n                className=\"del\"\r\n                type=\"close\"\r\n                onClick={this.handleDel.bind(this)}\r\n              />\r\n            </div>\r\n          )}\r\n          <WrappedComponent\r\n            ref=\"WrappedComponent\"\r\n            {...this.props}\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  const mapStateToProps = state => {\r\n    return state\r\n  }\r\n\r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      del: index => dispatch(del(index))\r\n    }\r\n  }\r\n\r\n  return connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(HOC)\r\n}\r\nexport default componentWrapper\r\n","import React, { Component } from 'react'\r\nimport { Menu, Icon, Button } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport store from '@/reducers/index'\r\nimport { clone } from '@/utils/util'\r\nimport { add, edit } from '@/reducers/phoneEle.js'\r\nimport Text from '@/components/text/Text'\r\nimport $ from 'jquery'\r\nimport './home.less'\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      startx: 0,\r\n      starty: 0,\r\n      movex: 0,\r\n      movey: 0,\r\n      mousex: 0,\r\n      mousey: 0,\r\n      selIndex: '', // 选中对象的索引\r\n      editEle: {} // 编辑对象\r\n    }\r\n    store.subscribe(() => {\r\n      console.log('chenge phoneEle')\r\n    })\r\n  }\r\n  elList = [\r\n    {\r\n      name: 'text',\r\n      type: 'text',\r\n      attr: {\r\n        text: '这是文本',\r\n        height: '32',\r\n        fontSize: '32',\r\n        padding: [0, 0, 0, 0],\r\n        margin: [0, 0, 0, 0],\r\n        bold: false\r\n      },\r\n      selEditEle: index => {\r\n        this.setState({\r\n          selIndex: index,\r\n          editEle: this.props.phoneEle[index].attr\r\n        })\r\n      },\r\n      render: index => {\r\n        return (\r\n          <div\r\n            key={index}\r\n            className=\"text grab\"\r\n            onMouseDown={this.handleMouseDown.bind(this, index)}\r\n          >\r\n            123\r\n          </div>\r\n        )\r\n      },\r\n      renderDom(index) {\r\n        return (\r\n          <Text\r\n            key={`${this.name}-${index}`}\r\n            text={this.attr.text}\r\n            bold={this.attr.bold}\r\n            padding={this.attr.padding}\r\n            margin={this.attr.margin}\r\n            fontSize={this.attr.fontSize}\r\n            index={index}\r\n            onSel={this.selEditEle}\r\n          />\r\n        )\r\n      }\r\n    }\r\n  ] // 保存现有的元素类型\r\n\r\n  componentDidMount() {\r\n    this.phone = $('#phone')\r\n    this.body = $('body')\r\n\r\n    this.rl = this.phone.offset().left\r\n    this.rt = this.phone.offset().top\r\n  }\r\n\r\n  handleMouseDown(index, e) {\r\n    let { movex, movey, startx, starty, mousex, mousey } = this.state\r\n    let that = this\r\n    // 克隆一份dom\r\n    this.elClone = $(e.currentTarget).clone()\r\n    // 记录元素位置\r\n    startx = $(e.currentTarget).offset().left\r\n    starty = $(e.currentTarget).offset().top\r\n    this.elClone.offset({\r\n      left: startx,\r\n      top: starty\r\n    })\r\n    // 改变鼠标样式\r\n    this.elClone.addClass('grabbing')\r\n    this.elClone.addClass('posa')\r\n    // 放入页面\r\n    this.elClone.appendTo('body')\r\n    // 记录元素位置\r\n    // startx = this.elClone.offset().left\r\n    // starty = this.elClone.offset().top\r\n    // 记录鼠标位置\r\n    mousex = e.clientX\r\n    mousey = e.clientY\r\n    // 给body注册鼠标移动事件\r\n    this.body.on('mousemove', function(e) {\r\n      movex = e.clientX - mousex\r\n      movey = e.clientY - mousey\r\n      var cl = startx + movex\r\n      var ct = starty + movey\r\n      that.elClone.css({ left: `${cl}px`, top: `${ct}px` })\r\n    })\r\n    this.body.on('mouseup', this.handleMouseUp.bind(this, index))\r\n  }\r\n\r\n  handleMouseUp(index, e) {\r\n    console.log('执行了一次 handleMouseUp')\r\n    var el = e.clientX\r\n    var et = e.clientY\r\n    if (\r\n      el < this.rl + this.phone.width() &&\r\n      el > this.rl &&\r\n      et < this.rt + this.phone.height() &&\r\n      et > this.rt\r\n    ) {\r\n      // 添加的元素进入手机内==》克隆对象添加到手机\r\n      var obj = clone(this.elList[index])\r\n      this.props.add(obj)\r\n    }\r\n\r\n    this.body.off('mousemove')\r\n    this.elClone.remove()\r\n    this.body.off('mouseup')\r\n  }\r\n\r\n  // 输入文本\r\n  handleEditText(editEle, e) {\r\n    editEle.text = e.currentTarget.value\r\n    this.props.edit(this.state.selIndex, editEle)\r\n  }\r\n  // 字体大小\r\n  handleEditFontSize(editEle, e) {\r\n    editEle.fontSize = e.currentTarget.value\r\n    this.props.edit(this.state.selIndex, editEle)\r\n  }\r\n\r\n  // 文本粗体\r\n  handleEditBold(editEle, e) {\r\n    editEle.bold = !editEle.bold\r\n    this.props.edit(\r\n      this.state.selIndex,\r\n      editEle\r\n    )\r\n  }\r\n\r\n  handleEditPadding(editEle, e) {\r\n    editEle.padding[e.currentTarget.dataset.index] = e.currentTarget.value\r\n    this.props.edit(\r\n      this.state.selIndex,\r\n      editEle\r\n    )\r\n  }\r\n  handleEditMargin(editEle, e) {\r\n    editEle.margin[e.currentTarget.dataset.index] = e.currentTarget.value\r\n    this.props.edit(\r\n      this.state.selIndex,\r\n      editEle\r\n    )\r\n  }\r\n\r\n  saveProject() {\r\n    console.log('生成项目文件')\r\n    var box = document.querySelector('#phone')\r\n    console.log(box);\r\n  }\r\n\r\n  render() {\r\n    var editObj = {}\r\n    return (\r\n      <div className=\"home\">\r\n      {/* {city.map((item,index)=>(<Button type={this.state.cIndex==index?'danger':''} key={item}>{item}</Button>))}\r\n        <Button type=\"primary\" block onClick={()=>{\r\n          this.setState({\r\n          cIndex:Math.floor(Math.random()*370)\r\n\r\n          })\r\n          console.log(this.state.cIndex);\r\n        }}>抽奖</Button> */}\r\n        <header className=\"header\">\r\n          <button onClick={this.saveProject.bind(this)}>生成</button>\r\n        </header>\r\n        <aside className=\"aside\">\r\n          {this.elList.map((item, index) => item.render(index))}\r\n        </aside>\r\n        <main className=\"main\">\r\n          <div id=\"phone\" className=\"phone\">\r\n            {this.props.phoneEle &&\r\n              this.props.phoneEle.map((item, index) => item.renderDom(index))}\r\n          </div>\r\n          <section className=\"phone\">\r\n            {Object.keys(this.state.editEle ? this.state.editEle : []).map(\r\n              item => {\r\n                switch (item) {\r\n                  case 'text':\r\n                    return (\r\n                      <div key={item}>\r\n                        <span>文本</span>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={this.state.editEle[item]}\r\n                          onChange={this.handleEditText.bind(this, this.state.editEle)}\r\n                        />\r\n                      </div>\r\n                    )\r\n                    break\r\n                  case 'fontSize':\r\n                    return (\r\n                      <div key={item}>\r\n                        <span>字体大小</span>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={this.state.editEle[item]}\r\n                          onChange={this.handleEditFontSize.bind(this, this.state.editEle)}\r\n                        />\r\n                      </div>\r\n                    )\r\n                    break\r\n                  case 'bold':\r\n                    return (\r\n                      <div key={item}>\r\n                        <Icon\r\n                          type=\"bold\"\r\n                          style={{color: this.state.editEle[item]?'red':''}} // 无法变粗，红色： 粗体、黑色： 正常\r\n                          onClick={this.handleEditBold.bind(this, this.state.editEle)}\r\n                        />\r\n                      </div>\r\n                    )\r\n                    break\r\n                  case 'padding':\r\n                    return (\r\n                      <div key={item}>\r\n                        内边距\r\n                        <input\r\n                          name=\"top\"\r\n                          type=\"text\"\r\n                          data-index=\"0\"\r\n                          onChange={this.handleEditPadding.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"right\"\r\n                          type=\"text\"\r\n                          data-index=\"1\"\r\n                          onChange={this.handleEditPadding.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"bottom\"\r\n                          type=\"text\"\r\n                          data-index=\"2\"\r\n                          onChange={this.handleEditPadding.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"left\"\r\n                          type=\"text\"\r\n                          data-index=\"3\"\r\n                          onChange={this.handleEditPadding.bind(this,this.state.editEle)}\r\n                        />\r\n                      </div>\r\n                    )\r\n                    break\r\n                  case 'margin':\r\n                    return (\r\n                      <div key={item}>\r\n                        外边距\r\n                        <input\r\n                          name=\"top\"\r\n                          type=\"text\"\r\n                          data-index=\"0\"\r\n                          onChange={this.handleEditMargin.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"right\"\r\n                          type=\"text\"\r\n                          data-index=\"1\"\r\n                          onChange={this.handleEditMargin.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"bottom\"\r\n                          type=\"text\"\r\n                          data-index=\"2\"\r\n                          onChange={this.handleEditMargin.bind(this,this.state.editEle)}\r\n                        />\r\n                        <input\r\n                          name=\"left\"\r\n                          type=\"text\"\r\n                          data-index=\"3\"\r\n                          onChange={this.handleEditMargin.bind(this,this.state.editEle)}\r\n                        />\r\n                      </div>\r\n                    )\r\n                    break\r\n\r\n                  default:\r\n                    break\r\n                }\r\n              }\r\n            )}\r\n          </section>\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return state\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    add: dom => dispatch(add(dom)),\r\n    edit: (index, attr, value) => dispatch(edit(index, attr, value))\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Home)\r\n"],"sourceRoot":""}